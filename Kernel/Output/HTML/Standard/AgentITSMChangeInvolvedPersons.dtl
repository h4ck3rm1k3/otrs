# --
# AgentITSMChangeInvolvedPersons.dtl - provides HTML form for AgentITSMChangeInvolvedPersons
# Copyright (C) 2003-2009 OTRS AG, http://otrs.com/
# --
# $Id: AgentITSMChangeInvolvedPersons.dtl,v 1.4 2009/10/21 20:40:43 reb Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --
$Include{"AJAX"}

$Include{"AgentITSMUserSearch"}

<style type="text/css">
.myAutoComplete {
width:32em; /* set width here or else widget will expand to fit its container */
padding-bottom:0.5em;
}
</style>

<script language="JavaScript" type="text/javascript">
<!--
function clear_field1() {
    document.compose.ChangeManager.value = "";
    document.compose.ChangeManager.focus();
}
function clear_field2() {
    document.compose.ChangeBuilder.value = "";
    document.compose.ChangeBuilder.focus();
}
//-->
</script>

<table border="0" width="100%" cellspacing="0" cellpadding="3">
    <tr>
        <td class="mainhead">
            $Env{"Box0"}$Text{"Edit"} $Text{"involved Persons of"} $Text{"Change#"}: $QData{"ChangeNumber"} $Env{"Box1"} $QData{"Title","70"}
        </td>
    </tr>
    <tr>
        <td class="menu">
            <a href="#" class="menuitem">$Text{"Back"}</a>
        </td>
    </tr>

    <tr>
        <td class="mainbody">
            <br>
            <form action="$Env{"CGIHandle"}" method="post" name="compose">
                <input type="hidden" name="Action"    value="$Env{"Action"}">
                <input type="hidden" name="Subaction" value="Save">
                <input type="hidden" name="ChangeID" value="$QData{"ChangeID"}">
                <input type="hidden" name="SelectedUser1" value="$QData{"SelectedUser1"}">
                <input type="hidden" name="UserSearchGroups1" value="itsm-change">
                <input type="hidden" name="SelectedUser2" value="$QData{"SelectedUser2"}">
                <input type="hidden" name="UserSearchGroups2" value="itsm-change">
                <input type="hidden" name="" value="">
                <input type="hidden" name="" value="">
                <table border="0" width="800" align="center" cellspacing="0" cellpadding="4">
                    <tr>
                        <td class="contenthead">$Text{"Involved Persons"}</td>
                    </tr>
                    <tr class="contentbody">
                        <td>
                            <table border="0">
                                <tr>
                                    <td class="contentkey">
                                        $Text{"Change Manager"}:
                                        <font color="red" title="$Text{"Required"}">*</font>
                                    </td>
                                    <td class="contentvalue">
<!-- dtl:block:UserSearchAutoCompleteDivStart1 -->
                                        <div id="myAutoComplete1" class="myAutoComplete">
<!-- dtl:block:UserSearchAutoCompleteDivStart1 -->
                                            <input id="myAutoCompleteInput1" type="text" name="ChangeManager" value="$QData{"ChangeManager"}" size="70"/>
<!-- dtl:block:UserSearchAutoCompleteDivEnd1 -->
                                            <div id="myAutoCompleteContainer1"></div>
                                        </div>
<!-- dtl:block:UserSearchAutoCompleteDivEnd1 -->
<!-- dtl:block:InvalidChangeManager -->
                                        <br />
                                        <font color="red" size="-2">$Text{"Input invalid"}</font>
<!-- dtl:block:InvalidChangeManager -->
                                        <br/>
                                        $Data{"UserStrg"}
                                        <dtl if ($Data{"UserStrg"} ne "") { $Data{"TakeThisUser"} = "<br/><input class="button" type="submit" name="ExpandManager2" value="$Text{"Take this User"}"/>"; }>
                                        $Data{"TakeThisUser"}
<!-- dtl:block:SearchUserButton1 -->
                                        <input class="button" type="submit" name="ExpandManager1" value="$Text{"Search User"}"/>
                                        <input class="button" type="submit" name="ClearUser1" value="$Text{"Clear User"}" onclick="javascript:clear_field1(); return false;"/>
<!-- dtl:block:SearchUserButton1 -->
                                    </td>
                                </tr>
                                <tr>
                                    <td class="contentkey">
                                        $Text{"Change Builder"}:
                                        <font color="red" title="$Text{"Required"}">*</font>
                                    </td>
                                    <td class="contentvalue">
<!-- dtl:block:UserSearchAutoCompleteDivStart2 -->
                                        <div id="myAutoComplete2" class="myAutoComplete">
<!-- dtl:block:UserSearchAutoCompleteDivStart2 -->
                                            <input id="myAutoCompleteInput2" type="text" name="ChangeBuilder" value="$QData{"ChangeBuilder"}" size="70"/>
<!-- dtl:block:UserSearchAutoCompleteDivEnd2 -->
                                            <div id="myAutoCompleteContainer2"></div>
                                        </div>
<!-- dtl:block:UserSearchAutoCompleteDivEnd2 -->
<!-- dtl:block:InvalidChangeBuilder -->
                                        <br />
                                        <font color="red" size="-2">$Text{"Input invalid"}</font>
<!-- dtl:block:InvalidChangeBuilder -->
                                        <br/>
                                        $Data{"UserStrg"}
                                        <dtl if ($Data{"UserStrg"} ne "") { $Data{"TakeThisUser"} = "<br/><input class="button" type="submit" name="ExpandBuilder2" value="$Text{"Take this User"}"/>"; }>
                                        $Data{"TakeThisUser"}
<!-- dtl:block:SearchUserButton2 -->
                                        <input class="button" type="submit" name="ExpandBuilder1" value="$Text{"Search User"}"/>
                                        <input class="button" type="submit" name="ClearUser2" value="$Text{"Clear User"}" onclick="javascript:clear_field1(); return false;"/>
<!-- dtl:block:SearchUserButton2 -->
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td class="contenthead">$Text{"Change Advisory Board"}</td>
                    </tr>
                    <tr class="contentbody">
                        <td>
                            <table border="0">
                                <tr>
                                    <td class="contentkey">
                                        $Text{"Add CAB Template"}:
                                    </td>
                                    <td class="contentvalue">
                                        $Data{"CABTemplateStrg"}
                                    </td>
                                    <td>
                                        <input type="submit" class="button" name="AddCABTemplate" value="$Text{"Add"}">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="contentkey">
                                        $Text{"Add to CAB"}:
                                    </td>
                                    <td class="contentvalue">
                                        <input type="text" name="NewCABMember" value="$QData{"NewCABMember"}" size="70">
                                    </td>
                                    <td class="contentvalue">
                                        <input type="submit" class="button" name="AddCABMember" value="$Text{"Add"}">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="contentkey">
                                        $Text{"Current CAB"}:
                                    </td>
                                    <td class="contentkey">
                                        $Text{"Agent"}:
                                    </td>
                                    <td class="contentvalue">&nbsp;</td>
                                </tr>
<!-- dtl:block:AgentCAB -->
                                <tr>
                                    <td class="contentkey">&nbsp;</td>
                                    <td class="contentvalue">$Data{"UserLogin"} &lt;$Data{"UserEmail"}&gt;</td>
                                    <td class="contentvalue"><input type="submit" class="button" name="DeleteCABAgent$QData{"UserID"}" value="$Text{"Delete"}"></td>
                                </tr>
<!-- dtl:block:AgentCAB -->
                                <tr>
                                    <td class="contentkey">&nbsp;</td>
                                    <td class="contentkey">$Text{"Customer"}:</td>
                                    <td class="contentvalue">&nbsp;</td>
                                </tr>
<!-- dtl:block:CustomerCAB -->
                                <tr>
                                    <td class="contentkey">&nbsp;</td>
                                    <td class="contentvalue">$Data{"UserLogin"} &lt;$Data{"UserEmail"}&gt;</td>
                                    <td class="contentvalue"><input type="submit" class="button" name="DeleteCABCustomer$QData{"UserLogin"}" value="$Text{"Delete"}"></td>
                                </tr>
<!-- dtl:block:CustomerCAB -->

                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td class="contentfooter">
                            <input class="button" type="submit" name="Submit" value="$Text{"Submit"}">
                        </td>
                    </tr>
                </table>
            </form>
            <br>
        </td>
    </tr>
</table>