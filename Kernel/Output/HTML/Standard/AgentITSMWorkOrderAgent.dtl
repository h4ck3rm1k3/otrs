# --
# AgentITSMWorkOrderAgent.dtl - provides HTML form for AgentITSMWorkOrderAgent
# Copyright (C) 2001-2010 OTRS AG, http://otrs.org/
# --
# $Id: AgentITSMWorkOrderAgent.dtl,v 1.27 2010/12/17 16:09:24 dz Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

$Include{"AgentITSMUserSearch"}

<script language="JavaScript" type="text/javascript">
<!--

//-->
</script>

<form action="$Env{"CGIHandle"}" method="post" name="compose" class="Validate PreventMultipleSubmits">
    <input type="hidden" name="Action"    value="$Env{"Action"}" />
    <input type="hidden" name="Subaction" value="Save" />
    <input type="hidden" name="WorkOrderID" value="$QData{"WorkOrderID"}" />
    <input type="hidden" name="SelectedUser" value="$QData{"UserID"}" />
    <input type="hidden" name="UserSearchGroups" value="itsm-change" />

    <div class="LayoutPopup ARIARoleMain">
        <div class="Header">
            <h1>
                $Text{"Edit"} $Text{"WorkOrderAgent"} $Text{"of"} $Config{"ITSMWorkOrder::Hook"} $QData{"ChangeNumber"}-$QData{"WorkOrderNumber"}: $QData{"WorkOrderTitle","70"}
            </h1>
            <p>
                <a href="#" class="CancelClosePopup">$Text{"Cancel & close window"}</a>
            </p>
        </div>

        <div class="Content SpacingBottom">
            <fieldset class="TableLike FixedLabel">
                <label class="Mandatory" for="UserAutoComplete"><span class="Marker">*</span> $Text{"WorkOrderAgent"}: </label>
                <div class="Field">
                    <input id="UserAutoComplete" type="text" name="UserAutoComplete" value="$QData{"User"}" class="W75pc" />
                    <input id="UserAutoCompleteSelected" type="hidden" name="UserAutoCompleteSelected" value="$QData{"UserID"}" class="W75pc" />

<!-- dtl:block:UserSearchAutoCompleteDiv -->
                    <div id="UserAutoCompleteContainer"></div>
<!-- dtl:block:UserSearchAutoCompleteDiv -->

                </div>

                <div id="UserAutoCompleteError" class="TooltipErrorMessage">
                    <p>$Text{"This field is required."}</p>
                </div>
                <div id="UserAutoCompleteServerError" class="TooltipErrorMessage">
                    <p>$Text{"Invalid User"}</p>
                </div>

                <div class="Field">
                    $Data{"UserStrg"}
                </div>
                <div class="Clear"></div>
                <div class="Field">
<!-- dtl:block:TakeUser -->
                    <button class="button" type="submit" name="ExpandUserName2" value="$Text{"Take this User"}"> $Text{"Take this User"} </button>
<!-- dtl:block:TakeUser -->

<!-- dtl:block:SearchUserButton -->
                    <button type="submit" name="ExpandUserName1" value="$Text{"Search User"}">$Text{"Search User"}</button>
                    <button type="submit" name="ClearUser" value="$Text{"Clear"} $Text{"User"}" onclick="clear_field(); return false;"> $Text{"Clear User"} </button>
<!-- dtl:block:SearchUserButton -->
                </div>
            </fieldset>
        </div>
        <div class="Footer">
            <button class="Primary"type="submit" name="Submit" value="$Text{"Save"}">$Text{"Save"}</button>
        </div>
    </div>
</form>
