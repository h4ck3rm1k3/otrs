<?xml version="1.0" encoding="iso-8859-1" ?>
<otrs_config version="1.0" init="Application">
    <CVS>$Id: SystemMonitoring.xml,v 1.4 2008/09/08 22:02:22 martin Exp $</CVS>
    <ConfigItem Name="PostMaster::PreFilterModule###1-SystemMonitoring" Required="0" Valid="1">
        <Description Lang="en">Basic mail interface to System Monitoring Suites.</Description>
        <Description Lang="de">Einfache Email Schnittstelle zu System Monitoring Suites.</Description>
        <Group>SystemMonitoring</Group>
        <SubGroup>Core::PostMaster</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Module">Kernel::System::PostMaster::Filter::SystemMonitoring</Item>
                <Item Key="FromAddressRegExp">sysmon@example.com</Item>
                <Item Key="StateRegExp">\s*State:\s+(\S+)</Item>
                <Item Key="HostRegExp">\s*Address:\s+(\d+\.\d+\.\d+\.\d+)\s*</Item>
                <Item Key="ServiceRegExp">\s*Service:\s+(.*)\s*</Item>
                <Item Key="NewTicketRegExp">CRITICAL|DOWN</Item>
                <Item Key="CloseTicketRegExp">OK|UP</Item>
                <Item Key="CloseActionState">closed successful</Item>
                <Item Key="ClosePendingTime">172800</Item>
                <Item Key="DefaultService">Host</Item>
                <Item Key="FreeTextHost">1</Item>
                <Item Key="FreeTextService">2</Item>
                <Item Key="SenderType">system</Item>
                <Item Key="ArticleType">note-report</Item>
            </Hash>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Nagios::Acknowledge::CMD" Required="0" Valid="1">
        <Description Lang="en">Named pipe acknowledge command.</Description>
        <Description Lang="de">Named pipe Acknowledge Befehl.</Description>
        <Group>Nagios</Group>
        <SubGroup>Acknowledge</SubGroup>
        <Setting>
            <String Regex="">echo '&lt;OUTPUTSTRING&gt;' > /usr/local/nagios/var/rw/nagios.cmd</String>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Nagios::Acknowledge::NamedPipe::Host" Required="0" Valid="1">
        <Description Lang="en">Named pipe acknowledge format for host.</Description>
        <Description Lang="de">Named pipe Acknowledge Format für Host.</Description>
        <Group>Nagios</Group>
        <SubGroup>Acknowledge</SubGroup>
        <Setting>
            <String Regex="">[&lt;UNIXTIME&gt;] ACKNOWLEDGE_HOST_PROBLEM;&lt;HOST_NAME&gt;;1;1;1;&lt;LOGIN&gt;;&lt;TicketNumber&gt; https://otrsserver/otrs/index.pl?Action=AgentTicketZoom&amp;TicketID=&lt;TicketID&gt;</String>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Nagios::Acknowledge::NamedPipe::Service" Required="0" Valid="1">
        <Description Lang="en">Named pipe acknowledge format for service.</Description>
        <Description Lang="de">Named pipe Acknowledge Format für Service.</Description>
        <Group>Nagios</Group>
        <SubGroup>Acknowledge</SubGroup>
        <Setting>
            <String Regex="">[&lt;UNIXTIME&gt;] ACKNOWLEDGE_SVC_PROBLEM;&lt;HOST_NAME&gt;;&lt;SERVICE_NAME&gt;;1;1;1;&lt;LOGIN&gt;;&lt;TicketNumber&gt; https://otrsserver/otrs/index.pl?Action=AgentTicketZoom&amp;TicketID=&lt;TicketID&gt;</String>
        </Setting>
    </ConfigItem>
    <ConfigItem Name="Ticket::EventModulePost###9-NagiosAcknowledge" Required="0" Valid="0">
        <Description Lang="en">Ticket event module to send an acknowlage to Nagios.</Description>
        <Description Lang="de">Ticket Event Modul für automatisches senden eines Acknowlage an Nagios.</Description>
        <Group>Nagios</Group>
        <SubGroup>Acknowledge</SubGroup>
        <Setting>
            <Hash>
                <Item Key="Module">Kernel::System::Ticket::Event::NagiosAcknowledge</Item>
                <Item Key="Event">TicketLockUpdate</Item>
            </Hash>
        </Setting>
    </ConfigItem>
</otrs_config>
